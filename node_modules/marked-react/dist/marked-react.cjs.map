{"version":3,"file":"marked-react.cjs","sources":["../src/defaults.js","../src/helpers.js","../src/ReactRenderer.js","../src/ReactParser.js","../src/Markdown.js"],"sourcesContent":["const defaults = {\n  breaks: false,\n  gfm: true,\n  baseURL: null,\n  openLinksInNewTab: true,\n  langPrefix: 'language-',\n  renderer: null,\n};\n\nexport default defaults;\n","const htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\",\n};\n\n/** Used to match HTML entities and HTML characters. */\nconst reEscapedHtml = /&(?:amp|lt|gt|quot|#(?:0+)?39);/g;\nconst reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\nexport const unescape = (string = '') => {\n  return reHasEscapedHtml.test(string)\n    ? string.replace(reEscapedHtml, (entity) => htmlUnescapes[entity] || \"'\")\n    : string;\n};\n\nexport const joinBase = (path, base) => {\n  if (!base) {\n    return path;\n  }\n\n  try {\n    return new URL(path, base).href;\n  } catch {\n    return path;\n  }\n};\n","import { createElement } from 'react';\n\nimport defaults from './defaults.js';\nimport { joinBase } from './helpers.js';\n\nclass ReactRenderer {\n  elementId = 0;\n\n  constructor(options = defaults) {\n    const { renderer } = options;\n\n    this.options = options;\n\n    if (renderer && typeof renderer === 'object') {\n      Object.entries(renderer).forEach(([rendererName, renderFunction]) => {\n        const originalRenderFunction = this[rendererName];\n\n        if (rendererName !== 'h' && originalRenderFunction && typeof renderFunction === 'function') {\n          this[rendererName] = (...args) => {\n            this.elementId += 1;\n            return renderFunction.bind(this)(...args);\n          };\n        }\n      });\n    }\n  }\n\n  h(el, children, props) {\n    const elProps = {\n      key: `marked-react-${this.elementId}`,\n    };\n\n    this.elementId += 1;\n    return createElement(el, { ...props, ...elProps }, children);\n  }\n\n  heading(children, level) {\n    return this.h(`h${level}`, children);\n  }\n\n  paragraph(children) {\n    return this.h('p', children);\n  }\n\n  link(href, text) {\n    const url = joinBase(href, this.options.baseURL);\n    const target = this.options.openLinksInNewTab ? '_blank' : null;\n    return this.h('a', text, { href: url, target });\n  }\n\n  image(href, text, title) {\n    const url = joinBase(href, this.options.baseURL);\n    return this.h('img', null, { src: url, alt: text, title });\n  }\n\n  codespan(code, lang) {\n    const className = lang ? `${this.options.langPrefix}${lang}` : null;\n    return this.h('code', code, { className });\n  }\n\n  code(code, lang) {\n    return this.h('pre', this.codespan(code, lang));\n  }\n\n  blockquote(children) {\n    return this.h('blockquote', children);\n  }\n\n  list(children, ordered) {\n    return this.h(ordered ? 'ol' : 'ul', children);\n  }\n\n  listItem(children) {\n    return this.h('li', children);\n  }\n\n  checkbox(checked) {\n    return this.h('input', null, { type: 'checkbox', disabled: true, checked });\n  }\n\n  table(children) {\n    return this.h('table', children);\n  }\n\n  tableHeader(children) {\n    return this.h('thead', children);\n  }\n\n  tableBody(children) {\n    return this.h('tbody', children);\n  }\n\n  tableRow(children) {\n    return this.h('tr', children);\n  }\n\n  tableCell(children, flags) {\n    const tag = flags.header ? 'th' : 'td';\n    return this.h(tag, children, { align: flags.align });\n  }\n\n  strong(children) {\n    return this.h('strong', children);\n  }\n\n  em(children) {\n    return this.h('em', children);\n  }\n\n  del(children) {\n    return this.h('del', children);\n  }\n\n  text(text) {\n    return text;\n  }\n\n  html(html) {\n    return html;\n  }\n\n  hr() {\n    return this.h('hr');\n  }\n\n  br() {\n    return this.h('br');\n  }\n}\n\nexport default ReactRenderer;\n","import ReactRenderer from './ReactRenderer.js';\nimport { unescape } from './helpers.js';\nimport defaults from './defaults.js';\n\nclass ReactParser {\n  constructor(options = defaults) {\n    this.options = options;\n    this.renderer = options.renderer || new ReactRenderer();\n  }\n\n  parse(tokens) {\n    return tokens.map((token) => {\n      switch (token.type) {\n        case 'space': {\n          return null;\n        }\n\n        case 'heading': {\n          return this.renderer.heading(this.parseInline(token.tokens), token.depth);\n        }\n\n        case 'paragraph': {\n          return this.renderer.paragraph(this.parseInline(token.tokens));\n        }\n\n        case 'text': {\n          return token.tokens ? this.parseInline(token.tokens) : token.text;\n        }\n\n        case 'blockquote': {\n          const quote = this.parse(token.tokens);\n          return this.renderer.blockquote(quote);\n        }\n\n        case 'list': {\n          const children = token.items.map((item) => {\n            const listItemChildren = [];\n\n            if (item.task) {\n              listItemChildren.push(this.renderer.checkbox(item.checked));\n            }\n\n            listItemChildren.push(this.parse(item.tokens));\n\n            return this.renderer.listItem(listItemChildren);\n          });\n\n          return this.renderer.list(children, token.ordered);\n        }\n\n        case 'code': {\n          return this.renderer.code(token.text, token.lang);\n        }\n\n        case 'html': {\n          return this.renderer.html(token.text);\n        }\n\n        case 'table': {\n          const headerCells = token.header.map((cell, index) => {\n            return this.renderer.tableCell(this.parseInline(cell.tokens), { header: true, align: token.align[index] });\n          });\n\n          const headerRow = this.renderer.tableRow(headerCells);\n          const header = this.renderer.tableHeader(headerRow);\n\n          const bodyChilren = token.rows.map((row, index) => {\n            const rowChildren = row.map((cell) => {\n              return this.renderer.tableCell(\n                this.parseInline(cell.tokens), { header: false, align: token.align[index] },\n              );\n            });\n\n            return this.renderer.tableRow(rowChildren);\n          });\n\n          const body = this.renderer.tableBody(bodyChilren);\n\n          return this.renderer.table([header, body]);\n        }\n\n        case 'hr': {\n          return this.renderer.hr();\n        }\n\n        default: {\n          console.warn(`Token with \"${token.type}\" type was not found`); // eslint-disable-line no-console\n          return null;\n        }\n      }\n    });\n  }\n\n  parseInline(tokens) {\n    return tokens.map((token) => {\n      switch (token.type) {\n        case 'text': {\n          return this.renderer.text(unescape(token.text));\n        }\n\n        case 'strong': {\n          return this.renderer.strong(this.parseInline(token.tokens));\n        }\n\n        case 'em': {\n          return this.renderer.em(this.parseInline(token.tokens));\n        }\n\n        case 'del': {\n          return this.renderer.del(this.parseInline(token.tokens));\n        }\n\n        case 'codespan': {\n          return this.renderer.codespan(unescape(token.text));\n        }\n\n        case 'link': {\n          return this.renderer.link(token.href, this.parseInline(token.tokens));\n        }\n\n        case 'image': {\n          return this.renderer.image(token.href, token.text, token.title);\n        }\n\n        case 'html': {\n          return this.renderer.html(token.text);\n        }\n\n        case 'br': {\n          return this.renderer.br();\n        }\n\n        case 'escape': {\n          return this.renderer.text(token.text);\n        }\n\n        default:\n          console.warn(`Token with \"${token.type}\" type was not found`); // eslint-disable-line no-console\n          return null;\n      }\n    });\n  }\n}\n\nexport default ReactParser;\n","import { createElement, Fragment } from 'react';\nimport { Lexer } from 'marked';\n\nimport defaults from './defaults.js';\nimport ReactParser from './ReactParser.js';\nimport ReactRenderer from './ReactRenderer.js';\n\nconst validateComponentProps = (props) => {\n  if (props.value && typeof props.value !== 'string') {\n    throw new TypeError(`[marked-react]: Expected value to be of type string but got ${typeof props.value}`);\n  }\n\n  if (props.children && typeof props.children !== 'string') {\n    throw new TypeError(`[marked-react]: Expected children to be of type string but got ${typeof props.children}`);\n  }\n};\n\nconst Markdown = (props) => {\n  validateComponentProps(props);\n\n  // lexer options\n  const lexerOptions = {\n    breaks: props.breaks,\n    gfm: props.gfm,\n  };\n\n  // convert input markdown into tokens\n  const lexer = new Lexer(lexerOptions);\n  const tokens = lexer.lex(props.value ?? props.children ?? '');\n\n  // parser options\n  const parserOptions = {\n    renderer: new ReactRenderer({\n      renderer: props.renderer,\n      baseURL: props.baseURL,\n      openLinksInNewTab: props.openLinksInNewTab,\n      langPrefix: props.langPrefix,\n    }),\n  };\n\n  const children = new ReactParser(parserOptions).parse(tokens);\n\n  return createElement(Fragment, null, children);\n};\n\nMarkdown.defaultProps = defaults;\n\nexport default Markdown;\n"],"names":["defaults","breaks","gfm","baseURL","openLinksInNewTab","langPrefix","renderer","htmlUnescapes","reEscapedHtml","reHasEscapedHtml","RegExp","source","unescape","string","test","replace","entity","joinBase","path","base","URL","href","ReactRenderer","options","Object","entries","forEach","rendererName","renderFunction","originalRenderFunction","elementId","bind","el","children","props","elProps","key","createElement","_objectSpread","level","h","text","url","target","title","src","alt","code","lang","className","codespan","ordered","checked","type","disabled","flags","tag","header","align","html","ReactParser","tokens","map","token","heading","parseInline","depth","paragraph","quote","parse","blockquote","items","item","listItemChildren","task","push","checkbox","listItem","list","headerCells","cell","index","tableCell","headerRow","tableRow","tableHeader","bodyChilren","rows","row","rowChildren","body","tableBody","table","hr","console","warn","strong","em","del","link","image","br","validateComponentProps","value","TypeError","Markdown","lexerOptions","lexer","Lexer","lex","parserOptions","Fragment","defaultProps"],"mappings":"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"}