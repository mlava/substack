{"version":3,"file":"getBlockUidsAndTextsReferencingPage.js","sourceRoot":"","sources":["../../src/queries/getBlockUidsAndTextsReferencingPage.ts"],"names":[],"mappings":";;;AACA,sFAAsD;AAEtD,MAAM,mCAAmC,GAAG,CAC1C,KAAa,EACoB,EAAE,CAEjC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC7B,uEAAuE,IAAA,4BAAkB,EACvF,KAAK,CACN,yBAAyB,CAE7B,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IACjB,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE;IAC7B,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE;CAClC,CAAC,CAAC,CAAC;AAEN,kBAAe,mCAAmC,CAAC","sourcesContent":["import { PullBlock } from \"../types\";\nimport normalizePageTitle from \"./normalizePageTitle\";\n\nconst getBlockUidsAndTextsReferencingPage = (\n  title: string\n): { uid: string; text: string }[] =>\n  (\n    window.roamAlphaAPI.data.fast.q(\n      `[:find (pull ?r [:block/uid :block/string]) :where [?p :node/title \"${normalizePageTitle(\n        title\n      )}\"] [?r :block/refs ?p]]`\n    ) as [PullBlock][]\n  ).map(([node]) => ({\n    uid: node[\":block/uid\"] || \"\",\n    text: node[\":block/string\"] || \"\",\n  }));\n\nexport default getBlockUidsAndTextsReferencingPage;\n"]}