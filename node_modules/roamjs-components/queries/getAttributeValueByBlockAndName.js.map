{"version":3,"file":"getAttributeValueByBlockAndName.js","sourceRoot":"","sources":["../../src/queries/getAttributeValueByBlockAndName.ts"],"names":[],"mappings":";;;AACA,sFAAsD;AAEtD,MAAM,+BAA+B,GAAG,CAAC,EACvC,IAAI,EACJ,GAAG,GAIJ,EAAE,EAAE;;IACH,OAAA,CACE,CAAA,MACE,MAAA,MAAA,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC7B,4DAA4D,IAAA,4BAAkB,EAC5E,IAAI,CACL,sBAAsB,GAAG,gDAAgD,CAC3E,0CAAG,CAAC,CAAC,0CAAG,CAAC,CACX,0CAAG,eAAe,CAAC,KAAI,EAAE,CAC3B;SACE,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACtB,IAAI,EAAE,CAAA;CAAA,CAAC;AAEZ,kBAAe,+BAA+B,CAAC","sourcesContent":["import { PullBlock } from \"../types\";\nimport normalizePageTitle from \"./normalizePageTitle\";\n\nconst getAttributeValueByBlockAndName = ({\n  name,\n  uid,\n}: {\n  name: string;\n  uid: string;\n}) =>\n  (\n    (\n      window.roamAlphaAPI.data.fast.q(\n        `[:find (pull ?b [:block/string]) :where [?a :node/title \"${normalizePageTitle(\n          name\n        )}\"] [?p :block/uid \"${uid}\"] [?b :block/refs ?a] [?b :block/parents ?p]]`\n      )?.[0]?.[0] as PullBlock\n    )?.[\":block/string\"] || \"\"\n  )\n    .slice(name.length + 2)\n    .trim();\n\nexport default getAttributeValueByBlockAndName;\n"]}