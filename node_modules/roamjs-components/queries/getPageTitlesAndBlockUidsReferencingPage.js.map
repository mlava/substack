{"version":3,"file":"getPageTitlesAndBlockUidsReferencingPage.js","sourceRoot":"","sources":["../../src/queries/getPageTitlesAndBlockUidsReferencingPage.ts"],"names":[],"mappings":";;;AACA,sFAAsD;AAEtD,MAAM,wCAAwC,GAAG,CAC/C,QAAgB,EACkB,EAAE,CAElC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC7B,kFAAkF,IAAA,4BAAkB,EAClG,QAAQ,CACT,8CAA8C,CAElD,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAClB,KAAK,EAAE,CAAA,EAAE,aAAF,EAAE,uBAAF,EAAE,CAAG,aAAa,CAAC,KAAI,EAAE;IAChC,GAAG,EAAE,CAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAG,YAAY,CAAC,KAAI,EAAE;CAC7B,CAAC,CAAC,CAAC;AAEN,kBAAe,wCAAwC,CAAC","sourcesContent":["import { PullBlock } from \"../types\";\nimport normalizePageTitle from \"./normalizePageTitle\";\n\nconst getPageTitlesAndBlockUidsReferencingPage = (\n  pageName: string\n): { title: string; uid: string }[] =>\n  (\n    window.roamAlphaAPI.data.fast.q(\n      `[:find (pull ?pr [:node/title]) (pull ?r [:block/uid]) :where [?p :node/title \"${normalizePageTitle(\n        pageName\n      )}\"] [?r :block/refs ?p] [?r :block/page ?pr]]`\n    ) as [PullBlock, PullBlock][]\n  ).map(([pr, r]) => ({\n    title: pr?.[\":node/title\"] || \"\",\n    uid: r?.[\":block/uid\"] || \"\",\n  }));\n\nexport default getPageTitlesAndBlockUidsReferencingPage;\n"]}