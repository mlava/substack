{"version":3,"file":"getPageTitlesAndUidsDirectlyReferencingPage.js","sourceRoot":"","sources":["../../src/queries/getPageTitlesAndUidsDirectlyReferencingPage.ts"],"names":[],"mappings":";;;AACA,sFAAsD;AAEtD,MAAM,2CAA2C,GAAG,CAClD,QAAgB,EACkB,EAAE,CAElC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC7B,qEAAqE,IAAA,4BAAkB,EACrF,QAAQ,CACT,yBAAyB,CAE7B,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;IAClB,KAAK,EAAE,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE;IACjC,GAAG,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI,EAAE;CAC/B,CAAC,CAAC,CAAC;AAEN,kBAAe,2CAA2C,CAAC","sourcesContent":["import { PullBlock } from \"../types\";\nimport normalizePageTitle from \"./normalizePageTitle\";\n\nconst getPageTitlesAndUidsDirectlyReferencingPage = (\n  pageName: string\n): { title: string; uid: string }[] =>\n  (\n    window.roamAlphaAPI.data.fast.q(\n      `[:find (pull ?r [:node/title :block/uid]) :where [?p :node/title \"${normalizePageTitle(\n        pageName\n      )}\"] [?r :block/refs ?p]]`\n    ) as [PullBlock][]\n  ).map(([block]) => ({\n    title: block[\":node/title\"] || \"\",\n    uid: block[\":block/uid\"] || \"\",\n  }));\n\nexport default getPageTitlesAndUidsDirectlyReferencingPage;\n"]}