{"version":3,"file":"getSubTree.js","sourceRoot":"","sources":["../../src/util/getSubTree.ts"],"names":[],"mappings":";;;AAAA,yGAAyE;AAEzE,gFAAgD;AAChD,wEAAwC;AAExC,MAAM,UAAU,GAAG,CAAC,EAClB,GAAG,EACH,SAAS,EACT,KAAK,GAAG,CAAC,EACT,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,IAAA,iCAAuB,EAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,GAM3D,EAAiB,EAAE;IAClB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAA,qBAAW,EAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IACpE,IAAI,IAAI;QAAE,OAAO,IAAI,CAAC;IACtB,MAAM,WAAW,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;IAC/C,IAAI,SAAS,EAAE;QACb,MAAM,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnD,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC5D,uBACE,GAAG,IACA,WAAW,EACd;KACH;IACD,uBAAS,GAAG,EAAE,EAAE,IAAK,WAAW,EAAG;AACrC,CAAC,CAAC;AAEF,kBAAe,UAAU,CAAC","sourcesContent":["import getBasicTreeByParentUid from \"../queries/getBasicTreeByParentUid\";\nimport type { RoamBasicNode } from \"../types/native\";\nimport createBlock from \"../writes/createBlock\";\nimport toFlexRegex from \"./toFlexRegex\";\n\nconst getSubTree = ({\n  key,\n  parentUid,\n  order = 0,\n  tree = parentUid ? getBasicTreeByParentUid(parentUid) : [],\n}: {\n  key: string;\n  parentUid?: string;\n  tree?: RoamBasicNode[];\n  order?: number;\n}): RoamBasicNode => {\n  const node = tree.find((s) => toFlexRegex(key).test(s.text.trim()));\n  if (node) return node;\n  const defaultNode = { text: \"\", children: [] };\n  if (parentUid) {\n    const uid = window.roamAlphaAPI.util.generateUID();\n    createBlock({ node: { text: key, uid }, parentUid, order });\n    return {\n      uid,\n      ...defaultNode,\n    };\n  }\n  return { uid: \"\", ...defaultNode };\n};\n\nexport default getSubTree;\n"]}