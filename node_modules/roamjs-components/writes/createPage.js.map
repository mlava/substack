{"version":3,"file":"createPage.js","sourceRoot":"","sources":["../../src/writes/createPage.ts"],"names":[],"mappings":";;;AAAA,+CAA8C;AAC9C,kCAAsD;AAEtD,4EAA4C;AAE5C,MAAM,UAAU,GAAG,CAAC,EAClB,KAAK,EACL,IAAI,GAAG,EAAE,EACT,GAAG,GAAG,kCAA2B,CAAC,IAAI,CAAC,KAAK,CAAC;IAC3C,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CACpC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,EAAE,CAC9D;IACH,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,GAK3C,EAAmB,EAAE;IACpB,OAAO,IAAA,uBAAa,EAAC;QACnB;YACE,IAAI,EAAE,YAAY;YAClB,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;SACjC;QACD,GAAG,IAAI;aACJ,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,IAAA,2BAAa,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;aACxE,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,aAAsB,EAAE,MAAM,EAAE,CAAC,CAAC;KAC/D,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;AACrB,CAAC,CAAC;AAEF,kBAAe,UAAU,CAAC","sourcesContent":["import { gatherActions } from \"./createBlock\";\nimport { DAILY_NOTE_PAGE_TITLE_REGEX } from \"../date\";\nimport type { InputTextNode } from \"../types\";\nimport submitActions from \"./submitActions\";\n\nconst createPage = ({\n  title,\n  tree = [],\n  uid = DAILY_NOTE_PAGE_TITLE_REGEX.test(title)\n    ? window.roamAlphaAPI.util.dateToPageUid(\n        window.roamAlphaAPI.util.pageTitleToDate(title) || new Date()\n      )\n    : window.roamAlphaAPI.util.generateUID(),\n}: {\n  title: string;\n  tree?: InputTextNode[];\n  uid?: string;\n}): Promise<string> => {\n  return submitActions([\n    {\n      type: \"createPage\",\n      params: { page: { title, uid } },\n    },\n    ...tree\n      .flatMap((node, order) => gatherActions({ node, parentUid: uid, order }))\n      .map((params) => ({ type: \"createBlock\" as const, params })),\n  ]).then(() => uid);\n};\n\nexport default createPage;\n"]}