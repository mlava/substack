"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const createHTMLObserver_1 = tslib_1.__importDefault(require("./createHTMLObserver"));
const createBlockObserver = (blockCallbackOrConfig, blockRefCallback) => {
    const blockObserver = (0, createHTMLObserver_1.default)({
        callback: (e) => {
            var _a;
            return typeof blockCallbackOrConfig === "function"
                ? blockCallbackOrConfig(e)
                : (_a = blockCallbackOrConfig.onBlockLoad) === null || _a === void 0 ? void 0 : _a.call(blockCallbackOrConfig, e);
        },
        removeCallback: (e) => {
            var _a;
            return typeof blockCallbackOrConfig === "object" &&
                ((_a = blockCallbackOrConfig.onBlockUnload) === null || _a === void 0 ? void 0 : _a.call(blockCallbackOrConfig, e));
        },
        tag: "DIV",
        className: "roam-block",
    });
    if (blockRefCallback) {
        return [
            blockObserver,
            (0, createHTMLObserver_1.default)({
                callback: (e) => {
                    var _a;
                    return typeof blockCallbackOrConfig === "object"
                        ? (_a = blockCallbackOrConfig.onBlockRefLoad) === null || _a === void 0 ? void 0 : _a.call(blockCallbackOrConfig, e)
                        : blockRefCallback === null || blockRefCallback === void 0 ? void 0 : blockRefCallback(e);
                },
                removeCallback: (e) => {
                    var _a;
                    return typeof blockCallbackOrConfig === "object" &&
                        ((_a = blockCallbackOrConfig.onBlockRefUnload) === null || _a === void 0 ? void 0 : _a.call(blockCallbackOrConfig, e));
                },
                tag: "SPAN",
                className: "rm-block-ref",
            }),
        ];
    }
    return [blockObserver];
};
exports.default = createBlockObserver;
//# sourceMappingURL=createBlockObserver.js.map