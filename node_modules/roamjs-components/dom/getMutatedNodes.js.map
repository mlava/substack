{"version":3,"file":"getMutatedNodes.js","sourceRoot":"","sources":["../../src/dom/getMutatedNodes.ts"],"names":[],"mappings":";;AAEA,MAAM,eAAe,GAAG,CAAC,EACvB,EAAE,EACF,GAAG,EACH,SAAS,EACT,QAAQ,GAMT,EAAU,EAAE;IACX,MAAM,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAC9B,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAC5B,CAAC,CAAO,EAAE,EAAE,CACV,CAAC,CAAC,QAAQ,KAAK,GAAG;QAClB,KAAK,CAAC,IAAI,CAAE,CAAiB,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAC/D,CACF,CAAC;IACF,MAAM,WAAW,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;SACpB,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;SAChC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CACb,KAAK,CAAC,IAAI,CAAE,CAAiB,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC,CACjE,CACJ,CAAC;IACF,OAAO,CAAC,GAAG,MAAM,EAAE,GAAG,WAAW,CAAC,CAAC;AACrC,CAAC,CAAA;AAED,kBAAe,eAAe,CAAC","sourcesContent":["\n\nconst getMutatedNodes = ({\n  ms,\n  tag,\n  className,\n  nodeList,\n}: {\n  ms: MutationRecord[];\n  tag: string;\n  className: string;\n  nodeList: \"addedNodes\" | \"removedNodes\";\n}): Node[] => {\n  const blocks = ms.flatMap((m) =>\n    Array.from(m[nodeList]).filter(\n      (d: Node) =>\n        d.nodeName === tag &&\n        Array.from((d as HTMLElement).classList).includes(className)\n    )\n  );\n  const childBlocks = ms.flatMap((m) =>\n    Array.from(m[nodeList])\n      .filter((n) => n.hasChildNodes())\n      .flatMap((d) =>\n        Array.from((d as HTMLElement).getElementsByClassName(className))\n      )\n  );\n  return [...blocks, ...childBlocks];\n}\n\nexport default getMutatedNodes;\n"]}