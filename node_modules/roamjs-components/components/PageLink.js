"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importStar(require("react"));
const getRoamUrl_1 = tslib_1.__importDefault(require("../dom/getRoamUrl"));
const getPageTitleByPageUid_1 = tslib_1.__importDefault(require("../queries/getPageTitleByPageUid"));
const openBlockInSidebar_1 = tslib_1.__importDefault(require("../writes/openBlockInSidebar"));
const PageLink = ({ uid, onCtrlClick, children, }) => {
    const title = (0, react_1.useMemo)(() => children || (0, getPageTitleByPageUid_1.default)(uid), [children, uid]);
    return (react_1.default.createElement("a", { className: "rm-page-ref", "data-link-title": title, href: (0, getRoamUrl_1.default)(uid), onMouseDown: (e) => {
            if (e.shiftKey) {
                (0, openBlockInSidebar_1.default)(uid);
                e.preventDefault();
                e.stopPropagation();
            }
            else if (e.ctrlKey) {
                onCtrlClick === null || onCtrlClick === void 0 ? void 0 : onCtrlClick(e);
            }
        }, onClick: (e) => {
            if (e.shiftKey || e.ctrlKey) {
                e.preventDefault();
                e.stopPropagation();
            }
        }, onContextMenu: (e) => {
            if (e.ctrlKey) {
                e.preventDefault();
                e.stopPropagation();
            }
        } }, title));
};
exports.default = PageLink;
//# sourceMappingURL=PageLink.js.map