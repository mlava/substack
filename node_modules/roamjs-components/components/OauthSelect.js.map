{"version":3,"file":"OauthSelect.js","sourceRoot":"","sources":["../../src/components/OauthSelect.tsx"],"names":[],"mappings":";;;;AAAA,4CAA0C;AAC1C,uDAAwC;AACxC,qGAAqE;AACrE,yGAAyE;AACzE,8EAA8C;AAC9C,8EAA8C;AAEvC,MAAM,gBAAgB,GAAG,CAC9B,EAAU,EAIV,EAAE;;IACF,MAAM,aAAa,GAAG,CACpB,CAAA,MAAA,IAAA,iCAAuB,EAAC,IAAA,+BAAqB,EAAC,WAAW,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CACzE,IAAA,qBAAW,EAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAClC,0CAAE,QAAQ,KAAI,EAAE,CAClB;SACE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;SAClB,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;IACzD,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,IAAA,gBAAQ,EAAC,aAAa,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;IACzE,MAAM,eAAe,GAAG,CACtB,8DACG,aAAa,CAAC,MAAM,GAAG,CAAC,IAAI,CAC3B,8BAAC,YAAK;;QAEJ,8BAAC,wBAAc,IACb,UAAU,EAAE,YAAY,EACxB,YAAY,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC,EACvC,KAAK,EAAE,aAAa,GACpB,CACI,CACT,CACA,CACJ,CAAC;IACF,OAAO;QACL,eAAe;QACf,YAAY;KACb,CAAC;AACJ,CAAC,CAAC;AAhCW,QAAA,gBAAgB,oBAgC3B","sourcesContent":["import { Label } from \"@blueprintjs/core\";\nimport React, { useState } from \"react\";\nimport getPageUidByPageTitle from \"../queries/getPageUidByPageTitle\";\nimport getBasicTreeByParentUid from \"../queries/getBasicTreeByParentUid\";\nimport toFlexRegex from \"../util/toFlexRegex\";\nimport MenuItemSelect from \"./MenuItemSelect\";\n\nexport const useOauthAccounts = (\n  id: string\n): {\n  accountDropdown: React.ReactElement;\n  accountLabel: string;\n} => {\n  const accountLabels = (\n    getBasicTreeByParentUid(getPageUidByPageTitle(`roam/js/${id}`)).find((t) =>\n      toFlexRegex(\"oauth\").test(t.text)\n    )?.children || []\n  )\n    .map((t) => t.text)\n    .filter((t) => !t.startsWith(\"{\") && !t.endsWith(\"}\"));\n  const [accountLabel, setAccountLabel] = useState(accountLabels[0] || \"\");\n  const accountDropdown = (\n    <>\n      {accountLabels.length > 1 && (\n        <Label>\n          Account:\n          <MenuItemSelect\n            activeItem={accountLabel}\n            onItemSelect={(i) => setAccountLabel(i)}\n            items={accountLabels}\n          />\n        </Label>\n      )}\n    </>\n  );\n  return {\n    accountDropdown,\n    accountLabel,\n  };\n};\n"]}