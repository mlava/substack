{"version":3,"file":"FlagPanel.js","sourceRoot":"","sources":["../../../src/components/ConfigPanels/FlagPanel.tsx"],"names":[],"mappings":";;;AAAA,4CAA6C;AAC7C,uDAAwC;AACxC,6EAA6C;AAC7C,yEAAyC;AAGzC,MAAM,SAAS,GAA0B,CAAC,EACxC,KAAK,EACL,GAAG,EAAE,UAAU,EACf,SAAS,EACT,KAAK,EACL,WAAW,EACX,OAAO,GAAG,EAAE,GACb,EAAE,EAAE;IACH,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,IAAA,gBAAQ,EAAC,UAAU,CAAC,CAAC;IAC3C,OAAO,CACL,8BAAC,eAAQ,IACP,OAAO,EAAE,CAAC,CAAC,GAAG,EACd,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE;;YACd,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC,MAA0B,CAAC;YACjD,IAAI,OAAO,EAAE;gBACX,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;gBACtD,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC;oBAC9B,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE;oBACrC,QAAQ,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE;iBAC7C,CAAC,CAAC;gBACH,UAAU,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;aACrC;iBAAM;gBACL,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;gBACpD,MAAM,CAAC,EAAE,CAAC,CAAC;aACZ;YACD,MAAA,OAAO,CAAC,QAAQ,wDAAG,OAAO,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,YAAY,EACV;YACG,IAAA,mBAAS,EAAC,KAAK,CAAC;YACjB,8BAAC,qBAAW,IAAC,WAAW,EAAE,WAAW,GAAI,CACxC,GAEL,CACH,CAAC;AACJ,CAAC,CAAC;AAEF,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC;AAExB,kBAAe,SAAS,CAAC","sourcesContent":["import { Checkbox } from \"@blueprintjs/core\";\nimport React, { useState } from \"react\";\nimport idToTitle from \"../../util/idToTitle\";\nimport Description from \"../Description\";\nimport type { FieldPanel, FlagField } from \"./types\";\n\nconst FlagPanel: FieldPanel<FlagField> = ({\n  title,\n  uid: initialUid,\n  parentUid,\n  order,\n  description,\n  options = {},\n}) => {\n  const [uid, setUid] = useState(initialUid);\n  return (\n    <Checkbox\n      checked={!!uid}\n      onChange={(e) => {\n        const { checked } = e.target as HTMLInputElement;\n        if (checked) {\n          const newUid = window.roamAlphaAPI.util.generateUID();\n          window.roamAlphaAPI.createBlock({\n            block: { string: title, uid: newUid },\n            location: { order, \"parent-uid\": parentUid },\n          });\n          setTimeout(() => setUid(newUid), 1);\n        } else {\n          window.roamAlphaAPI.deleteBlock({ block: { uid } });\n          setUid(\"\");\n        }\n        options.onChange?.(checked, e);\n      }}\n      labelElement={\n        <>\n          {idToTitle(title)}\n          <Description description={description} />\n        </>\n      }\n    />\n  );\n};\n\nFlagPanel.type = \"flag\";\n\nexport default FlagPanel;\n"]}