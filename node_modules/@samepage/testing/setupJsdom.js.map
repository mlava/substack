{"version":3,"file":"setupJsdom.js","sourceRoot":"","sources":["../../package/testing/setupJsdom.ts"],"names":[],"mappings":";;;AAAA,2GAA2G;AAC3G,4EAAiD;AACjD,iCAA8B;AAE9B,MAAM,YAAY,GAAG,CAAC,OAAO,EAAE,cAAc,EAAE,SAAS,CAAC,CAAC;AAE1D,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;KACvB,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KAClD,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAE3C,MAAM,GAAG,GAAG,IAAI,aAAK,CAAC,iBAAiB,EAAE;IACvC,iBAAiB,EAAE,IAAI;IACvB,UAAU,EAAE,aAAa;IACzB,GAAG,EAAE,kBAAkB;CACxB,CAAC,CAAC;AACH,6DAA6D;AAC7D,aAAa;AACb,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;AAC3B,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC;AACtC,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,MAAM,CAAC;KACnC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;IACpD,6DAA6D;IAC7D,aAAa;KACZ,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACjD,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;AAChC,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;AAClD,MAAM,CAAC,mBAAmB,GAAG,MAAM,CAAC,mBAAmB,CAAC;AACxD,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;AAClD,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;AAChC,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;AAC5C,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;AAC1B,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;AACtC,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;AAClD,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;AACtC,IAAA,kBAAa,EAAC,EAAE,OAAO,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC","sourcesContent":["// This file needs to be the first import so that it runs before react dom does its global variable setting\nimport setupRegistry from \"../internal/registry\";\nimport { JSDOM } from \"jsdom\";\n\nconst cacheBusters = [/react/, /@blueprintjs/, /@juggle/];\n\nObject.keys(require.cache)\n  .filter((k) => cacheBusters.some((r) => r.test(k)))\n  .forEach((k) => delete require.cache[k]);\n\nconst dom = new JSDOM(\"<!DOCTYPE html>\", {\n  pretendToBeVisual: true,\n  runScripts: \"dangerously\",\n  url: \"http://localhost\",\n});\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nglobal.window = dom.window;\nglobal.document = dom.window.document;\nObject.getOwnPropertyNames(dom.window)\n  .filter((k) => !k.startsWith(\"_\") && !(k in global))\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  .forEach((key) => (global[key] = window[key]));\nwindow.console = global.console;\nglobal.addEventListener = window.addEventListener;\nglobal.removeEventListener = window.removeEventListener;\nglobal.DocumentFragment = window.DocumentFragment;\nglobal.Element = window.Element;\nglobal.KeyboardEvent = window.KeyboardEvent;\nglobal.Node = window.Node;\nglobal.MouseEvent = window.MouseEvent;\nglobal.MutationObserver = window.MutationObserver;\nglobal.SVGElement = window.SVGElement;\nsetupRegistry({ appRoot: document.body });\n"]}